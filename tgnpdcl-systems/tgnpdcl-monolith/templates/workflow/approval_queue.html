{% extends 'base.html' %}
{% load static %}

{% block title %}Approval Queue - TGNPDCL{% endblock %}

{% block content %}
<div class="dashboard">
 <aside class="sidebar">
 <div class="sidebar-logo">
 <span class="sidebar-logo-icon">âš¡</span>
 <span class="sidebar-logo-text">TGNPDCL</span>
 </div>

 <nav>
 <ul class="sidebar-nav">
 <li class="sidebar-nav-item">
 <a href="{% url 'dashboard' %}" class="sidebar-nav-link">ğŸ“Š Dashboard</a>
 </li>
 <li class="sidebar-nav-item">
 <a href="{% url 'workflow:approval_queue' %}" class="sidebar-nav-link active">âœ… Approval Queue</a>
 </li>
 <li class="sidebar-nav-item">
 <a href="{% url 'documents:document_list' %}" class="sidebar-nav-link">ğŸ“ Documents</a>
 </li>
 </ul>
 </nav>

 <div style="position: absolute; bottom: 1.5rem; left: 1.5rem; right: 1.5rem;">
 <a href="{% url 'logout' %}" class="btn btn-secondary btn-block">ğŸšª Logout</a>
 </div>
 </aside>

 <main class="main-content">
 <div class="page-header">
 <h1 class="page-title">âœ… Approval Queue</h1>
 <span class="badge badge-info">{{ step.name|default:"Your Queue" }}</span>
 </div>

 <div class="card fade-in">
 <div class="card-body">
 {% if pending_requests %}
 <div class="table-responsive">
 <table class="table">
 <thead>
 <tr>
 <th>ID</th>
 <th>Hospital</th>
 <th>Patient</th>
 <th>Amount</th>
 <th>Status</th>
 <th>Actions</th>
 </tr>
 </thead>
 <tbody>
 {% for req in pending_requests %}
 <tr>
 <td>SR-{{ req.id }}</td>
 <td>{{ req.hospital_name }}</td>
 <td>{{ req.patient_name }}</td>
 <td>â‚¹{{ req.claimed_amount }}</td>
 <td><span class="badge badge-warning">{{ req.get_status_display }}</span></td>
 <td>
 <a href="{% url 'workflow:request_detail' req.id %}" class="btn btn-primary"
 style="font-size: 0.8125rem; padding: 0.4rem 0.75rem;">
 Review
 </a>
 </td>
 </tr>
 {% endfor %}
 </tbody>
 </table>
 </div>
 {% else %}
 <div class="text-center text-muted" style="padding: 4rem;">
 <span style="font-size: 4rem; opacity: 0.5;">âœ¨</span>
 <p style="margin-top: 1rem; font-size: 1.125rem;">No pending approvals!</p>
 <p style="color: var(--gray-500);">All requests have been processed. Check back later.</p>
 </div>
 {% endif %}
 </div>
 </div>
 </main>
</div>
{% endblock %}